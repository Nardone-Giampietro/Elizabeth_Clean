<div x-data="{loginForm: true, pwRecoverForm: false}" class="w-full h-full">
    <div
        x-show="loginForm"
        class="flex flex-col h-full justify-center items-center shadow rounded-lg bg-white px-6 md:w-1/2 lg:w-1/3 m-auto">
        <h2 class="text-2xl my-4">Login</h2>
        {% form 'customer_login'%}
            <div class="w-full p-2 justify-start flex flex-col">
                {% if form.errors %}
                    <div
                        class="relative border rounded-lg mb-4 border-red-400 bg-red-100 text-red-700 px-4 py-3"
                        role="alert">
                        <strong class="text-bold">
                            Error
                        </strong>
                        <p class="block sm:inline">
                            {{ form.errors |  default_errors }}
                        </p>
                    </div>
                {% endif %}
                <div class=" flex flex-row">
                    <span
                        class="z-highest rounded-l-lg w-10 h-10 flex justify-center items-center text-2xl text-gray-400 border border-r-0"
                        mode="render">
                            {% render 'icon-user' %}
                    </span>
                    <input 
                        type="email"
                        name="customer[email]"
                        class="border border-gray-200 rounded-r-lg outline-none focus:ring-1 ring-blue-400 w-full pl-1"
                        autocomplete="email"
                        placeholder="email"
                        required>
                </div>
                {% if form.password_needed %}
                    <div class="my-4 flex flex-row">
                        <span
                            class="z-highest rounded-l-lg w-10 h-10 flex justify-center items-center text-2xl text-gray-400 border border-r-0"
                            mode="render">
                                {% render 'icon-key' %}
                        </span>
                        <input
                            type="password"
                            name="customer[password]"
                            class="h-10 border border-gray-200 rounded-r-lg outline-none focus:ring-1 ring-blue-300 w-full pl-1"
                            placeholder="password"
                            required>
                    </div>
                {% endif %}
                <div class="my-2 text-sm">
                    <a  
                        x-on:click="loginForm = false; pwRecoverForm = true"
                        href="#" 
                        class="underline text-blue-400">
                        Forgot your password?
                    </a>
                </div>
                <button
                    type="submit"
                    class="px-4 py-2 rounded bg-blue-400 text-white hover:bg-blue-700 my-4 w-full">
                        Login
                </button>
                
            </div>   
        {% endform %}
        {% if shop.checkout.guest_login %}
            {% form 'guest_login' %}
                <button
                    type="submit"
                    value="Continue ad Guest"
                    class="px-4 py-2 rounded bg-white text-blue-400 border border-blue-400 hover:text-blue-700 my-4 w-full hover:border-blue-700">
                        Continue as Guest
                </button>
            {% endform %}
          {% endif %}
    </div>
    <div
        x-show="pwRecoverForm"
        class="flex flex-col h-full justify-center items-center shadow rounded-lg bg-white px-6 md:w-1/2 lg:w-1/3 m-auto">
        <h2 class="text-2xl my-4">Recover your Password</h2>
        {% form 'recover_customer_password'%}
            <div class="w-full p-2 justify-start flex flex-col">
                {% if form.errors %}
                    <div
                        class="relative border rounded-lg mb-4 border-red-400 bg-red-100 text-red-700 px-4 py-3"
                        role="alert">
                        <strong class="text-bold">
                            Error
                        </strong>
                        <p class="block sm:inline">
                            {{ form.errors |  default_errors }}
                        </p>
                    </div>
                {% endif %}
                <div class=" flex flex-row">
                    <span
                        class="z-highest rounded-l-lg w-10 h-10 flex justify-center items-center text-2xl text-gray-400 border border-r-0"
                        mode="render">
                            {% render 'icon-user' %}
                    </span>
                    <input 
                        type="email"
                        name="email"
                        class="border border-gray-200 rounded-r-lg outline-none focus:ring-1 ring-blue-400 w-full pl-1"
                        autocomplete="email"
                        placeholder="email"
                        required>
                </div>
                <button
                    type="submit"
                    class="px-4 py-2 rounded bg-blue-400 text-white hover:bg-blue-700 my-4 w-full">
                        Recover
                </button>
                <div class="mb-2 text-sm">
                    <a  
                        x-on:click="loginForm = true; pwRecoverForm = false"
                        href="#" 
                        class="underline text-blue-400">
                        Back to login
                    </a>
                </div>
            </div>   
        {% endform %}
    </div>
</div>
    